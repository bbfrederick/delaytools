#!/usr/bin/env python

import rapidtide.io as tide_io
import nibabel as nib
import numpy as np

infile = '/Users/frederic/Dropbox_PHC/connectome_quality/rfMRI_REST1_LR_Atlas.dtseries.nii'
outfile = '../dst/test'

# first check if file is cifti
if tide_io.checkifcifti(infile):
    cifti, cifti_hdr, nifti_data, nifti_hdr, thedims, thesizes, fmritr = tide_io.readfromcifti(infile)
    print(nifti_hdr)
    print('nifti data shape:', nifti_data.shape)
    print('file TR is:', fmritr)
    tide_io.savetocifti(nifti_data, cifti_hdr, nifti_hdr, outfile, start=0.0, step=1.3)
    print(cifti_hdr)
    print(thedims)
    print(thesizes)
else:
    print('file is not cifti')
